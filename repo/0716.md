# 2022/07/16 交流

- `busybox`: 已通过 36/55
- - `busybox` 并不是 55 个测例而是 55 “行”测例，每行是一条命令，之间会有依赖关系。所以实际上每解决一个就可以过好几条。主要还有 `sys_sendfile` 和 `sys_fstatat` 没有解决，后者是和 `sys_fstat` 形式不同的调用。

- `lua`: 已通过 9/9
- - 测例比较弱，我另外改了一些虽然能通过但实现有点问题的地方。在检查使用的 syscall 列表时发现去年的 `UltraOS` 没有实现 sys_readv，直接 return 0 跳过了。而观察 trace 发现 lua 似乎是这样用这个 syscall 的：读脚本文件时先读一页(4K)，用mmap申请一块地址存放，然后把剩下的读到栈上。读到栈上的部分使用 readv。
- - 因为比赛测例的 lua 脚本都很短，只有几行，所以肯定不会用到栈，所以没实现这部分也可通过。

- - `lmbench`: 还没跑通。目前发现似乎是它启动时 pc 会跑到 `0x28`，需要进一步 gdb 排查原因。